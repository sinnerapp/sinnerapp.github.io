"use strict";(self["webpackChunk_403app"]=self["webpackChunk_403app"]||[]).push([[940],{940:function(t,e,a){a.r(e),a.d(e,{default:function(){return D}});var o=a(252),n=a(577);const i={class:"px-4 py-2 overflow-hidden text-center"},s={class:"font-semibold text-indigo-300"},r={class:"text-3xl font-bold text-indigo-500"},d={class:"font-semibold dark:text-white"},l={class:"dark:text-white"},c=(0,o._)("br",null,null,-1),h={class:"my-12 images-container"},p=["src"];function u(t,e,a,u,g,v){const f=(0,o.up)("AddFavButtonVue");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("div",i,[(0,o._)("small",s,(0,n.zw)(g.content.id),1),(0,o._)("h1",r,(0,n.zw)(g.content.title),1),(0,o._)("p",d," Total Panels: "+(0,n.zw)(g.content.total),1),(0,o._)("p",l,[(0,o.Uk)(" Tags: "),c,((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(g.content.tags,(t=>((0,o.wg)(),(0,o.iD)("span",{key:t,class:"text-gray-500/50 dark:text-gray-300/80"},(0,n.zw)(t)+", ",1)))),128))])]),(0,o._)("div",h,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(g.content.image,(t=>((0,o.wg)(),(0,o.iD)("div",{class:"w-full image",key:t},[(0,o._)("img",{src:t,alt:"Image",class:"w-full",loading:"lazy"},null,8,p)])))),128))]),(0,o.Wm)(f,{content:g.content,favorited:g.favorited},null,8,["content","favorited"])],64)}var g=a(678),v=a(963);const f=(0,o._)("svg",{class:"w-7 h-7",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[(0,o._)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})],-1),w=(0,o._)("span",{class:"sr-only"},"Add To Favorite",-1),m=[f,w];function x(t,e,a,n,i,s){return(0,o.wy)(((0,o.wg)(),(0,o.iD)("button",{onClick:e[0]||(e[0]=(...t)=>s.toggleFavorite&&s.toggleFavorite(...t)),class:"fixed btn btn-circle btn-error text-white bottom-[7.5rem] right-5 disabled:bg-red-400 disabled:text-white"},m,512)),[[v.F8,!i.hideFav]])}var y={props:["content","favorited"],data(){return{hideFav:!1}},methods:{async toggleFavorite(){await(0,g.Vx)("fav_list",(t=>{const e=t.findIndex((t=>t.id===this.content.id));return e>=0?(console.log("already in list"),this.$notify({text:"Removed From Favorite",type:"warn"}),t.filter((t=>t.id!==this.content.id))):(console.log("success added to list"),this.$notify({text:"Added To Favorite!",type:"success"}),[...t,JSON.parse(JSON.stringify(this.content))])}))},hideBottomNavOnScroll(){let t=window.pageYOffset;window.onscroll=()=>{let e=window.pageYOffset;this.hideFav=!(t>e),t=e}}},name:"AddFavoriteButtons",mounted(){}},_=a(744);const k=(0,_.Z)(y,[["render",x]]);var $=k,b={props:["allowHistory"],components:{AddFavButtonVue:$},data(){return{apiEndpoints:["https://janda.sinkaroid.org","https://wandering-flip-flops-ant.cyclic.app"],content:{},favorited:!1}},methods:{fetchOne(){try{fetch(`${this.apiEndpoints[0]}/${this.$route.params.provider}/get?book=${this.$route.params.id}${"hentai2read"==this.$route.params.provider?"/1":""}`).then((t=>t.json())).then((t=>{this.content=t.data,t.data.provider=this.$route.params.provider,this.allowHistory&&(t.data.created_at=new Date,t.data.cover=t.data.image[Math.floor(Math.random()*t.data.image.length)],(0,g.Vx)("history_list",(e=>{e.findIndex((e=>e.id===t.data.id));return console.log("success added to list"),[...e,t.data]})))}))}catch(t){console.log(t),fetch(`${this.apiEndpoints[1]}/${this.$route.params.provider}/get?book=${this.$route.params.id}${"hentai2read"==this.$route.params.provider?"/1":""}`).then((t=>t.json())).then((t=>{this.content=t.data,t.data.provider=this.$route.params.provider,this.allowHistory&&(t.data.created_at=new Date,t.data.cover=t.data.image[Math.floor(Math.random()*t.data.image.length)],(0,g.Vx)("history_list",(e=>{e.findIndex((e=>e.id===t.data.id));return console.log("success added to list"),[...e,t.data]})))}))}}},mounted(){this.fetchOne(),(0,g.U2)("fav_list").then((t=>{t.findIndex((t=>t.id===this.content.id))>=0?this.favorited=!0:this.favorited=!1}))}};const F=(0,_.Z)(b,[["render",u]]);var D=F}}]);
//# sourceMappingURL=940.13f793ef.js.map