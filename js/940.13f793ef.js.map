{"version":3,"file":"js/940.13f793ef.js","mappings":"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","sources":["webpack://403app/./src/views/ShowView.vue","webpack://403app/./src/components/AddFavButton.vue","webpack://403app/./src/components/AddFavButton.vue?acc6","webpack://403app/./src/views/ShowView.vue?bf47"],"sourcesContent":["<template>\r\n  <div class=\"px-4 py-2 overflow-hidden text-center\">\r\n    <small class=\"font-semibold text-indigo-300\">{{ content.id }}</small>\r\n    <h1 class=\"text-3xl font-bold text-indigo-500\">{{ content.title }}</h1>\r\n    <p class=\"font-semibold dark:text-white\">\r\n      Total Panels: {{ content.total }}\r\n    </p>\r\n    <p class=\"dark:text-white\">\r\n      Tags: <br />\r\n      <span\r\n        v-for=\"tag in content.tags\"\r\n        :key=\"tag\"\r\n        class=\"text-gray-500/50 dark:text-gray-300/80\"\r\n        >{{ tag }},\r\n      </span>\r\n    </p>\r\n  </div>\r\n\r\n  <div class=\"my-12 images-container\">\r\n    <div class=\"w-full image\" v-for=\"img in content.image\" :key=\"img\">\r\n      <img :src=\"img\" alt=\"Image\" class=\"w-full\" loading=\"lazy\" />\r\n    </div>\r\n  </div>\r\n  <AddFavButtonVue :content=\"content\" :favorited=\"favorited\" />\r\n</template>\r\n\r\n<script>\r\nimport { get, set, update } from \"idb-keyval\";\r\nimport AddFavButtonVue from \"./../components/AddFavButton.vue\";\r\n\r\nexport default {\r\n  props: [\"allowHistory\"],\r\n  components: {\r\n    AddFavButtonVue,\r\n  },\r\n  data() {\r\n    return {\r\n      apiEndpoints: [\r\n        \"https://janda.sinkaroid.org\",\r\n        \"https://wandering-flip-flops-ant.cyclic.app\",\r\n      ],\r\n      content: {},\r\n      favorited: false,\r\n    };\r\n  },\r\n  methods: {\r\n    fetchOne() {\r\n      try {\r\n        fetch(\r\n          `${this.apiEndpoints[0]}/${this.$route.params.provider}/get?book=${\r\n            this.$route.params.id\r\n          }${this.$route.params.provider == \"hentai2read\" ? \"/1\" : \"\"}`\r\n        )\r\n          .then((response) => response.json())\r\n          .then((result) => {\r\n            this.content = result.data;\r\n            result.data.provider = this.$route.params.provider;\r\n            if (this.allowHistory) {\r\n              result.data.created_at = new Date();\r\n              result.data.cover =\r\n                result.data.image[\r\n                  Math.floor(Math.random() * result.data.image.length)\r\n                ];\r\n              update(\"history_list\", (oldValue) => {\r\n                const existingIndex = oldValue.findIndex(\r\n                  (el) => el.id === result.data.id\r\n                );\r\n                // if (existingIndex >= 0) {\r\n                //   console.log(\"already in list\");\r\n                //   return oldValue;\r\n                // }\r\n                console.log(\"success added to list\");\r\n                return [...oldValue, result.data];\r\n              });\r\n            }\r\n          });\r\n      } catch (error) {\r\n        console.log(error);\r\n        fetch(\r\n          `${this.apiEndpoints[1]}/${this.$route.params.provider}/get?book=${\r\n            this.$route.params.id\r\n          }${this.$route.params.provider == \"hentai2read\" ? \"/1\" : \"\"}`\r\n        )\r\n          .then((response) => response.json())\r\n          .then((result) => {\r\n            this.content = result.data;\r\n            result.data.provider = this.$route.params.provider;\r\n            if (this.allowHistory) {\r\n              result.data.created_at = new Date();\r\n              result.data.cover =\r\n                result.data.image[\r\n                  Math.floor(Math.random() * result.data.image.length)\r\n                ];\r\n              update(\"history_list\", (oldValue) => {\r\n                const existingIndex = oldValue.findIndex(\r\n                  (el) => el.id === result.data.id\r\n                );\r\n                // if (existingIndex >= 0) {\r\n                //   console.log(\"already in list\");\r\n                //   return oldValue;\r\n                // }\r\n                console.log(\"success added to list\");\r\n                return [...oldValue, result.data];\r\n              });\r\n            }\r\n          });\r\n      }\r\n    },\r\n  },\r\n  mounted() {\r\n    this.fetchOne();\r\n    get(\"fav_list\").then((value) => {\r\n      if (value.findIndex((el) => el.id === this.content.id) >= 0) {\r\n        this.favorited = true;\r\n      } else this.favorited = false;\r\n    });\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n</style>","<template>\r\n  <button\r\n    v-show=\"!hideFav\"\r\n    @click=\"toggleFavorite\"\r\n    class=\"\r\n      fixed\r\n      btn btn-circle btn-error\r\n      text-white\r\n      bottom-[7.5rem]\r\n      right-5\r\n      disabled:bg-red-400 disabled:text-white\r\n    \"\r\n  >\r\n    <svg\r\n      class=\"w-7 h-7\"\r\n      fill=\"none\"\r\n      stroke=\"currentColor\"\r\n      viewBox=\"0 0 24 24\"\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n    >\r\n      <path\r\n        stroke-linecap=\"round\"\r\n        stroke-linejoin=\"round\"\r\n        stroke-width=\"2\"\r\n        d=\"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z\"\r\n      ></path>\r\n    </svg>\r\n    <span class=\"sr-only\">Add To Favorite</span>\r\n  </button>\r\n</template>\r\n\r\n<script>\r\nimport { clear, get, update } from \"idb-keyval\";\r\n\r\nexport default {\r\n  props: [\"content\", \"favorited\"],\r\n  data() {\r\n    return {\r\n      hideFav: false,\r\n    };\r\n  },\r\n  methods: {\r\n    async toggleFavorite() {\r\n      await update(\"fav_list\", (oldValue) => {\r\n        const existingIndex = oldValue.findIndex(\r\n          (el) => el.id === this.content.id\r\n        );\r\n        if (existingIndex >= 0) {\r\n          console.log(\"already in list\");\r\n          this.$notify({\r\n            text: \"Removed From Favorite\",\r\n            type: \"warn\",\r\n          });\r\n          return oldValue.filter((val) => val.id !== this.content.id);\r\n        }\r\n        console.log(\"success added to list\");\r\n        this.$notify({\r\n          text: \"Added To Favorite!\",\r\n          type: \"success\",\r\n        });\r\n        return [...oldValue, JSON.parse(JSON.stringify(this.content))];\r\n      });\r\n    },\r\n    hideBottomNavOnScroll() {\r\n      let prevScrollpos = window.pageYOffset;\r\n      window.onscroll = () => {\r\n        let currentScrollpos = window.pageYOffset;\r\n        if (prevScrollpos > currentScrollpos) {\r\n          this.hideFav = false;\r\n        } else {\r\n          this.hideFav = true;\r\n        }\r\n        prevScrollpos = currentScrollpos;\r\n      };\r\n    },\r\n  },\r\n  name: \"AddFavoriteButtons\",\r\n  mounted() {\r\n    // this.hideBottomNavOnScroll();\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n</style>","import { render } from \"./AddFavButton.vue?vue&type=template&id=450249d2\"\nimport script from \"./AddFavButton.vue?vue&type=script&lang=js\"\nexport * from \"./AddFavButton.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\Kevin Darmawan\\\\Desktop\\\\JS\\\\403app-2\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./ShowView.vue?vue&type=template&id=658ba22a\"\nimport script from \"./ShowView.vue?vue&type=script&lang=js\"\nexport * from \"./ShowView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\Kevin Darmawan\\\\Desktop\\\\JS\\\\403app-2\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","content","id","title","total","tags","tag","key","image","img","src","alt","loading","favorited","fill","stroke","viewBox","xmlns","d","toggleFavorite","hideFav","props","data","methods","async","oldValue","existingIndex","findIndex","el","this","console","log","$notify","text","type","filter","val","JSON","parse","stringify","hideBottomNavOnScroll","prevScrollpos","window","pageYOffset","onscroll","currentScrollpos","name","mounted","__exports__","components","AddFavButtonVue","apiEndpoints","fetchOne","fetch","$route","params","provider","then","response","json","result","allowHistory","created_at","Date","cover","Math","floor","random","length","error","value","render"],"sourceRoot":""}